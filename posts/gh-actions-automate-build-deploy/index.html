<!doctype html><html prefix="og: http://ogp.me/ns#" lang=en-us><head itemscope itemtype=https://blog.brennan.sh/><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta property="og:locale" content="en"><meta name=language content="en"><title itemprop=name>Using Github Actions to Automate Build and Deploy. &#183; 0x7CC</title><meta property="og:title" content="Using Github Actions to Automate Build and Deploy. &#183; 0x7CC"><meta name=twitter:title content="Using Github Actions to Automate Build and Deploy. &#183; 0x7CC"><meta itemprop=name content="Using Github Actions to Automate Build and Deploy. &#183; 0x7CC"><meta name=application-name content="0x7CC"><meta property="og:site_name" content="0x7CC"><base href=https://blog.brennan.sh/posts/gh-actions-automate-build-deploy/><link rel=canonical href=https://blog.brennan.sh/posts/gh-actions-automate-build-deploy/ itemprop=url><meta name=url content="https://blog.brennan.sh/posts/gh-actions-automate-build-deploy/"><meta name=twitter:url content="https://blog.brennan.sh/posts/gh-actions-automate-build-deploy/"><meta property="og:url" content="https://blog.brennan.sh/posts/gh-actions-automate-build-deploy/"><meta name=twitter:card content="summary_large_image"><meta property="og:type" content="article"><meta itemprop=description content="Github Actions are a relativey new feature that was put in place to help people run CI/CD workflows directly from Github Repos. In my opinion, if you host your "><meta property="og:description" content="Github Actions are a relativey new feature that was put in place to help people run CI/CD workflows directly from Github Repos. In my opinion, if you host your "><meta name=description content="Github Actions are a relativey new feature that was put in place to help people run CI/CD workflows directly from Github Repos. In my opinion, if you host your "><meta name=twitter:description content="Github Actions are a relativey new feature that was put in place to help people run CI/CD workflows directly from Github Repos. In my opinion, if you host your "><meta property="article:published_time" content="2020-02-15T00:00:00Z"><meta name=twitter:label1 value="Reading time"><meta name=twitter:data1 value="4 minutes"><meta name=twitter:label2 value=Published><meta name=twitter:data2 value="February 15, 2020"><meta property="article:tag" content="github"><meta property="article:tag" content="gh-actions"><meta property="article:tag" content="automation"><meta property="article:tag" content="devops"><meta property="article:tag" content="ci/cd"><meta property="og:updated_time" content="2020-02-15T00:00:00Z"><meta name=generator content="Hugo 0.83.0"><link rel=dns-prefetch href=//fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com/ crossorigin><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel=stylesheet><link rel=stylesheet href=https://blog.brennan.sh/css/styles.min.ef433e47a104e30937dfad230e28b6dd329c9b4fe18ff4925850da1f24df3133.css integrity="sha256-70M+R6EE4wk3360jDii23TKcm0/hj/SSWFDaHyTfMTM="><link href=/index.xml rel=alternate type=application/rss+xml title=0x7CC><script src=https://cdnjs.cloudflare.com/ajax/libs/turbolinks/5.2.0/turbolinks.js></script></head><body class="bg-gradient flex flex-col min-h-screen"><header id=header class="w-full m-0 fixed z-10 transition-all duration-300 ease-in-out border-t-4 border-gray-300 backdrop-filter-blur"><div id=header-container class="max-w-7xl mx-auto p-6 flex items-center flex-wrap lg:flex-no-wrap relative justify-between"><a href=https://blog.brennan.sh/ class="tracking-tighter leading-10 text-3xl font-semibold text-gray-600 flex flex-shrink-0">0x7CC</a><div class="block lg:hidden mx-2"><button class="nav-button w-10 h-10 justify-center flex items-center opacity-75 hover:opacity-100 transition duration-300 ease-in-out"><svg class="fill-current h-4 w-4" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><title>Menu</title><path d="M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"/></svg></button>
<button class="hidden nav-button w-10 h-10 justify-center flex items-center opacity-75 hover:opacity-100 transition duration-300 ease-in-out"><svg class="fill-current h-4 w-4" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><title>Close menu</title><polygon points="11 9 22 9 22 11 11 11 11 22 9 22 9 11 -2 11 -2 9 9 9 9 -2 11 -2" transform="rotate(45 10 10)"/></svg></button></div><div class="absolute right-8 top-16 lg:relative lg:right-0 lg:top-0 flex flex-col lg:flex-row items-center rounded-md bg-white shadow lg:bg-transparent lg:shadow-none"><nav id=nav-social-links class="p-4 lg:p-0 text-gray-600 hidden lg:block lg:order-last w-full lg:w-auto lg:ml-3"><ul class="flex justify-end"><li><a class="block p-2 opacity-75 hover:opacity-100 transition duration-300 ease-in-out" title=Instagram href=https://www.instagram.com/https://instagram.com/brennanmcd rel=me><svg class="fill-current w-5 h-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22"><title>Instagram</title><path d="M7.8 2h8.4C19.4 2 22 4.6 22 7.8v8.4A5.8 5.8.0 0116.2 22H7.8C4.6 22 2 19.4 2 16.2V7.8A5.8 5.8.0 017.8 2M7.6 4A3.6 3.6.0 004 7.6v8.8C4 18.39 5.61 20 7.6 20h8.8A3.6 3.6.0 0020 16.4V7.6C20 5.61 18.39 4 16.4 4H7.6m9.65 1.5A1.25 1.25.0 0118.5 6.75 1.25 1.25.0 0117.25 8 1.25 1.25.0 0116 6.75 1.25 1.25.0 0117.25 5.5M12 7a5 5 0 015 5 5 5 0 01-5 5A5 5 0 017 12a5 5 0 015-5m0 2A3 3 0 009 12a3 3 0 003 3 3 3 0 003-3A3 3 0 0012 9z"/></svg></a></li><li><a class="block p-2 opacity-75 hover:opacity-100 transition duration-300 ease-in-out" title=Twitter href=https://www.twitter.com/https://twitter.com/bmickeydonald rel=me><svg class="fill-current w-5 h-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><title>Twitter</title><path d="M6.29 18.25c7.55.0 11.67-6.25 11.67-11.67v-.53c.8-.59 1.49-1.3 2.04-2.13-.75.33-1.54.55-2.36.65a4.12 4.12.0 001.8-2.27c-.8.48-1.68.81-2.6 1a4.1 4.1.0 00-7 3.74 11.65 11.65.0 01-8.45-4.3 4.1 4.1.0 001.27 5.49C2.01 8.2 1.37 8.03.8 7.7v.05a4.1 4.1.0 003.3 4.03 4.1 4.1.0 01-1.86.07 4.1 4.1.0 003.83 2.85A8.23 8.23.0 010 16.4a11.62 11.62.0 006.29 1.84"/></svg></a></li><li><a class="block p-2 opacity-75 hover:opacity-100 transition duration-300 ease-in-out" title=Github href=https://www.github.com/https://github.com/brennanmcdonald rel=me><svg class="fill-current w-5 h-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><title>GitHub</title><path d="M10 0A10 10 0 006.84 19.49c.5.1.68-.22.68-.48l-.01-1.7c-2.78.6-3.37-1.34-3.37-1.34-.46-1.16-1.11-1.47-1.11-1.47-.9-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.9 1.52 2.34 1.08 2.91.83.1-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.94.0-1.1.39-1.99 1.03-2.69a3.6 3.6.0 01.1-2.64s.84-.27 2.75 1.02a9.58 9.58.0 015 0c1.91-1.3 2.75-1.02 2.75-1.02.55 1.37.2 2.4.1 2.64.64.7 1.03 1.6 1.03 2.69.0 3.84-2.34 4.68-4.57 4.93.36.31.68.92.68 1.85l-.01 2.75c0 .26.18.58.69.48A10 10 0 0010 0"/></svg></a></li><li><a class="block p-2 opacity-75 hover:opacity-100 transition duration-300 ease-in-out" title=Linkedin href=https://linkedin.com/in/brennan-mcdonald rel=me><svg class="fill-current w-5 h-5" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>LinkedIn</title><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853.0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601.0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144.0-2.063-.926-2.063-2.065.0-1.138.92-2.063 2.063-2.063 1.14.0 2.064.925 2.064 2.063.0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225.0H1.771C.792.0.0.774.0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2.0 22.222.0h.003z"/></svg></a></li><li><a class="block p-2 opacity-75 hover:opacity-100 transition duration-300 ease-in-out" title=Feed href=/index.xml><svg class="fill-current w-5 h-5" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>RSS</title><path d="M19.199 24C19.199 13.467 10.533 4.8.0 4.8V0c13.165.0 24 10.835 24 24h-4.801zM3.291 17.415c1.814.0 3.293 1.479 3.293 3.295.0 1.813-1.485 3.29-3.301 3.29C1.47 24 0 22.526.0 20.71s1.475-3.294 3.291-3.295zM15.909 24h-4.665c0-6.169-5.075-11.245-11.244-11.245V8.09c8.727.0 15.909 7.184 15.909 15.91z"/></svg></a></li></ul></nav><nav id=nav-menu class="p-4 lg:p-0 hidden lg:block w-full lg:w-auto text-gray-600"><ul class="w-full flex flex-col lg:flex-row justify-end items-end lg:items-center"><li class="flex my-2 lg:my-2 mx-1 lg:mx-2"><a title="My Personal Site" class="uppercase font-bold lg:py-2 lg:px-3 rounded text-sm opacity-75 hover:opacity-100 transition duration-300 ease-in-out" href=https://brennan.sh>My Personal Site</a></li><li class="flex my-2 lg:my-2 mx-1 lg:mx-2"><a title=About class="uppercase font-bold lg:py-2 lg:px-3 rounded text-sm opacity-75 hover:opacity-100 transition duration-300 ease-in-out" href=/about/>About</a></li><li class="flex my-2 lg:my-2 mx-1 lg:mx-2"><a title=Tags class="uppercase font-bold lg:py-2 lg:px-3 rounded text-sm opacity-75 hover:opacity-100 transition duration-300 ease-in-out" href=/tags/>Tags</a></li><li class="flex my-2 lg:my-2 mx-1 lg:mx-2"><a title=Archives class="uppercase font-bold lg:py-2 lg:px-3 rounded text-sm opacity-75 hover:opacity-100 transition duration-300 ease-in-out" href=/archives/>Archives</a></li></ul></nav></div></div></header><main class="flex-1 mt-12 max-w-3xl mt-32 mx-auto text-gray-700 w-full"><div id=reading-progress-bar role=presentation class="fixed z-10 top-0 left-0 h-1 bg-gray-700"></div><article class=article><header class="text-center pt-10 pb-6"><small class="text-center text-sm"><time class=text-gray-500 datetime=2020-02-15T00:00:00+00:00>February 15, 2020</time>
<a href=https://blog.brennan.sh/tags/github/ class="inline-flex items-center px-4 py-1 rounded-full no-underline bg-orange-100 text-orange-800 hover:bg-orange-300 ml-4">github</a>
<a href=https://blog.brennan.sh/tags/gh-actions/ class="inline-flex items-center px-4 py-1 rounded-full no-underline bg-orange-100 text-orange-800 hover:bg-orange-300 ml-4">gh-actions</a>
<a href=https://blog.brennan.sh/tags/automation/ class="inline-flex items-center px-4 py-1 rounded-full no-underline bg-orange-100 text-orange-800 hover:bg-orange-300 ml-4">automation</a>
<a href=https://blog.brennan.sh/tags/devops/ class="inline-flex items-center px-4 py-1 rounded-full no-underline bg-orange-100 text-orange-800 hover:bg-orange-300 ml-4">devops</a>
<a href=https://blog.brennan.sh/tags/ci/cd/ class="inline-flex items-center px-4 py-1 rounded-full no-underline bg-orange-100 text-orange-800 hover:bg-orange-300 ml-4">ci/cd</a></small><h1 class="leading-9 text-center"><a href=https://blog.brennan.sh/posts/gh-actions-automate-build-deploy/ class="no-underline inline-block text-black relative"><div class=dots aria-hidden=true></div>Using Github Actions to Automate Build and Deploy.</a></h1></header><div class=article__content><ul><li><a href=#introduction>Introduction</a></li><li><a href=#elements-of-a-github-actions-workflow>Elements of a Github actions workflow</a><ul><li><a href=#trigger>Trigger</a></li><li><a href=#runner>Runner</a></li><li><a href=#actions>Actions</a><ul><li><a href=#checkout-action>Checkout Action</a></li><li><a href=#third-party-actions>Third Party Actions</a></li><li><a href=#custom-actions-run>Custom Actions (Run)</a></li></ul></li></ul></li></ul><h2 id=introduction>Introduction</h2><p>Github Actions are a relatively new feature that was put in place to help people run CI/CD workflows directly from Github Repos. In my opinion, if you host your code on Github, they are the cleanest and fastest free form of CI/CD out there today. To access the actions for a Github repo, navigate to the repo&rsquo;s page and click on the &ldquo;Actions&rdquo; tab at the top.</p><p><img src=/img/gh-action-build-deploy/tabs.PNG alt=tabs></p><p>Here you can check the status of existing workflows, and by clicking the new workflow button you can deploy an existing template or a blank workflow file.</p><p><img src=/img/gh-action-build-deploy/new_workflow.PNG alt="Sections of a workflow"></p><h2 id=elements-of-a-github-actions-workflow>Elements of a Github actions workflow</h2><p>Github actions are <code>yaml</code> files that live in the <code>.github/workflows</code> folder. Here we have an overview of the actions involved in a workflow and the layout that they occur in.</p><p><img src=/img/gh-action-build-deploy/sections.png alt="Sections of a workflow"></p><p>The core of a Github action workflow is a <code>yaml</code> file. There are hundreds of possible keys that exist to be used in this <code>YAML</code> file. However, today were only going to focus on the few important ones that are required for a basicly setup. We can start with the name for our workflow, it can be anything so don&rsquo;t worry about what you put here.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#f92672>name</span>: <span style=color:#ae81ff>Build and Deploy</span>
</code></pre></div><h3 id=trigger>Trigger</h3><p>The trigger is the action that tells your workflow to run. This can be anything from pushing to a branch, cron events, or even webhook events. More on actions can be found <a href=https://help.github.com/en/actions/reference/events-that-trigger-workflows>here</a>. For the sake of this guide, we will be using a <em><strong>push to branch</strong></em> action, in specific we will be triggering our event on a push to the master branch. This is done by using the following 4 lines of code.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#f92672>on</span>:
  <span style=color:#f92672>push</span>:
    <span style=color:#f92672>branches</span>:
      - <span style=color:#ae81ff>master</span>
</code></pre></div><p>This reads fairly cleanly so I wont explain it too much, but the root key is the <code>on:</code> key which says the following lines will define our trigger. We then have the <code>push:</code> key which says that the trigger will be an <em><strong>on push</strong></em> trigger. Finally we have the <code>branches:</code> key which lists the branches we want our trigger to listen on. This can be any list of branches. For example, if we want this action to be for a pre-deploy envionment we can trigger on pushes to development branches.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#f92672>on</span>:
  <span style=color:#f92672>push</span>:
    <span style=color:#f92672>branches</span>:
      - <span style=color:#ae81ff>alpha</span>
      - <span style=color:#ae81ff>beta</span>
      - <span style=color:#ae81ff>staging</span>
</code></pre></div><h3 id=runner>Runner</h3><p>The runner is the host OS that our workflow will be running on. Due to the fact that Github Actions use <a href=https://www.docker.com/resources/what-container>docker containers</a> under the covers, we have to specify what we want that container to run.</p><p>At the time of writing this post, there are four available runners. One for Windows, two for Ubuntu Linux, and one for macOS.</p><table><thead><tr><th>Virtual environment</th><th>YAML workflow label</th></tr></thead><tbody><tr><td>Windows Server 2019</td><td><code>windows-latest</code> or <code>windows-2019</code></td></tr><tr><td>Ubuntu 18.04</td><td><code>ubuntu-latest</code> or <code>ubuntu-18.04</code></td></tr><tr><td>Ubuntu 16.04</td><td><code>ubuntu-16.04</code></td></tr><tr><td>macOS Catalina 10.15</td><td><code>macos-latest</code> or <code>macos-10.15</code></td></tr></tbody></table><p>In this guide, we&rsquo;re going to use the <code>ubuntu-16.04</code> (however the process would be the same with any of the Ubuntu runners) image as it&rsquo;ll be the easiest to use for our build process.</p><h3 id=actions>Actions</h3><p>Actions are denoted by the <code>setps:</code> key, which is followed by a list of groups of keys as illustrated in the image at the top of this page. Actions are the bulk of a github actions workflow. They describe the actions that will be executed in the workflow, from checking out the code, to running the actual build process, to deploying. We&rsquo;re going to spend some time learning</p><h4 id=checkout-action>Checkout Action</h4><p>In a build-deploy setup, the checkout action is typically the first step that our workflow will do. The checkout action fetches the most recent version of the repo. This action is provided by github on the &lsquo;actions&rsquo; organization. It is important to note that there are two versions of the checkout action provided by github actions. The key difference is that v1 supports checking out submodules.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml>- <span style=color:#f92672>uses</span>: <span style=color:#ae81ff>actions/checkout@v1</span>
  <span style=color:#f92672>with</span>:
    <span style=color:#f92672>submodules</span>: <span style=color:#66d9ef>true</span>
</code></pre></div><h4 id=third-party-actions>Third Party Actions</h4><p>Other actions can be importated from other people&rsquo;s github repositories. By using the <code>uses:</code> key, you can specify a repo that will be pulled, built, and run during a workflow. These actions can take arguments by using the <code>with:</code> key, which takes a list of key-value pairs similar to envionment variables. For example, deploying a built static page to github pages, we can use <code>JamesIves/github-pages-deploy-action@releases/v3</code> like below:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml>- <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Deploy</span>
  <span style=color:#f92672>uses</span>: <span style=color:#ae81ff>JamesIves/github-pages-deploy-action@releases/v3</span>
  <span style=color:#f92672>with</span>:
    <span style=color:#f92672>ACCESS_TOKEN</span>: <span style=color:#ae81ff>${{ secrets.ACCESS_TOKEN }}</span>
    <span style=color:#f92672>BRANCH</span>: <span style=color:#ae81ff>gh-pages</span>
    <span style=color:#f92672>FOLDER</span>: <span style=color:#ae81ff>dist</span>
</code></pre></div><p>We name the custom action &ldquo;Deploy&rdquo; and say we will be using the <code>JamesIves/github-pages-deploy-action@releases/v3</code> action. Then by passing 3 arguments of <code>BRANCH</code>, <code>FOLDER</code>, and <code>ACCESS_TOKEN</code>, we can specify the behaviour of the action.</p><h4 id=custom-actions-run>Custom Actions (Run)</h4><p>You can also specify custom bash commands using the <code>run:</code> key.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml>- <span style=color:#f92672>run</span>: <span style=color:#ae81ff>npm install</span>
- <span style=color:#f92672>run</span>: <span style=color:#ae81ff>npm run build --if-present</span>
</code></pre></div></div><section class="my-5 pt-10 pb-5 border-t border-gray-400 flex items-center"><img alt="Avatar photo" class="border border-gray-400 p-1 w-10 h-10 rounded-full mr-3" src=/>
<span class=flex-grow></span><a href="http://twitter.com/share?url=https%3a%2f%2fblog.brennan.sh%2fposts%2fgh-actions-automate-build-deploy%2f&text=Using%20Github%20Actions%20to%20Automate%20Build%20and%20Deploy.&via=https%3a%2f%2ftwitter.com%2fbmickeydonald" class="text-white text-xs font-bold rounded-md no-underline flex items-center px-3 py-2 bg-twitter hover:color-white hover:opacity-75 no-underline"><svg class="fill-current w-4 h-4 mr-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><title>Twitter</title><path d="M6.29 18.25c7.55.0 11.67-6.25 11.67-11.67v-.53c.8-.59 1.49-1.3 2.04-2.13-.75.33-1.54.55-2.36.65a4.12 4.12.0 001.8-2.27c-.8.48-1.68.81-2.6 1a4.1 4.1.0 00-7 3.74 11.65 11.65.0 01-8.45-4.3 4.1 4.1.0 001.27 5.49C2.01 8.2 1.37 8.03.8 7.7v.05a4.1 4.1.0 003.3 4.03 4.1 4.1.0 01-1.86.07 4.1 4.1.0 003.83 2.85A8.23 8.23.0 010 16.4a11.62 11.62.0 006.29 1.84"/></svg>Tweet</a></section><section class="my-5 py-5 relative"><h2>Interactions</h2></section></article><aside class=flex><a class="w-full md:w-1/2 flex flex-col items-center py-7 px-3 no-underline rounded-md hover:bg-white transition duration-300 ease-in-out" href=/posts/japan-part-one/><span class="border border-gray-6 text-xs rounded-md mb-2 uppercase font-bold py-2 px-3">Read this next</span>
<span class=text-center>New Years 2019 in Japan: Part One.</span></a>
<a class="w-full md:w-1/2 flex flex-col items-center py-7 px-3 no-underline rounded-md hover:bg-white transition duration-300 ease-in-out" href=/posts/gh-actions-automation/><span class="border border-gray-6 text-xs rounded-md mb-2 uppercase font-bold py-2 px-3">You might enjoy</span>
<span class=text-center>How I Automated With Ease Using Github Actions.</span></a></aside></main><footer class="w-full max-w-7xl mx-auto text-center border-t border-gray-200 py-9 px-3 mt-9 pin-b text-sm text-gray-500">Made with <a href=https://gohugo.io class="underline transition duration-300 ease-in-out hover:text-blue-600">Hugo</a> and <a href=https://github.com/leonardofaria/bento class="underline transition duration-300 ease-in-out hover:text-blue-600">Bento theme</a>.</footer><script>var initMenu=()=>{var a=document.querySelectorAll('.nav-button'),c=document.querySelector('#nav-menu'),b=document.querySelector('#nav-social-links'),d;for(d of a)d.addEventListener('click',()=>{console.log('click'),c.classList.toggle("hidden"),b&&b.classList.toggle("hidden");for(var d of a)d.classList.toggle("hidden")})};document.addEventListener('turbolinks:load',initMenu())</script><script>var initHeader=()=>{var a,i,f,g,e;let d=window.scrollY;a=document.querySelector('#header'),i=document.querySelector("#header-container"),f=document.querySelector("#reading-progress-bar");let b=0,c=0,h=0;g=()=>{a.classList.add("shadow"),a.classList.add("bg-white-90")},e=()=>{a.classList.remove("shadow"),a.classList.remove("bg-white-90")},window.onscroll=function(){d=window.scrollY,b=document.documentElement.scrollTop||document.body.scrollTop,c=(document.documentElement.scrollHeight||document.body.scrollHeight)-document.documentElement.clientHeight,h=b/c*100,f.style.width=b/c*100+'%',d>0?g():e()}};document.addEventListener('turbolinks:load',initHeader())</script></body></html>