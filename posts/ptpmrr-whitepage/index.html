<!doctype html><html prefix="og: http://ogp.me/ns#" lang=en-us><head itemscope itemtype=https://blog.brennan.sh/><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta property="og:locale" content="en"><meta name=language content="en"><title itemprop=name>PtPMRR: Price to Performance Modified Round Robin. &#183; 0x7CC</title><meta property="og:title" content="PtPMRR: Price to Performance Modified Round Robin. &#183; 0x7CC"><meta name=twitter:title content="PtPMRR: Price to Performance Modified Round Robin. &#183; 0x7CC"><meta itemprop=name content="PtPMRR: Price to Performance Modified Round Robin. &#183; 0x7CC"><meta name=application-name content="0x7CC"><meta property="og:site_name" content="0x7CC"><base href=https://blog.brennan.sh/posts/ptpmrr-whitepage/><link rel=canonical href=https://blog.brennan.sh/posts/ptpmrr-whitepage/ itemprop=url><meta name=url content="https://blog.brennan.sh/posts/ptpmrr-whitepage/"><meta name=twitter:url content="https://blog.brennan.sh/posts/ptpmrr-whitepage/"><meta property="og:url" content="https://blog.brennan.sh/posts/ptpmrr-whitepage/"><meta name=twitter:card content="summary_large_image"><meta property="og:type" content="article"><meta itemprop=description content="Multi-cloud distributed task scheduling for cost and QoS optimization Cloud computing offers the ability to provision resources as required on a per-task basis."><meta property="og:description" content="Multi-cloud distributed task scheduling for cost and QoS optimization Cloud computing offers the ability to provision resources as required on a per-task basis."><meta name=description content="Multi-cloud distributed task scheduling for cost and QoS optimization Cloud computing offers the ability to provision resources as required on a per-task basis."><meta name=twitter:description content="Multi-cloud distributed task scheduling for cost and QoS optimization Cloud computing offers the ability to provision resources as required on a per-task basis."><meta property="article:published_time" content="2020-02-19T00:00:00Z"><meta name=twitter:label1 value="Reading time"><meta name=twitter:data1 value="4 minutes"><meta name=twitter:label2 value=Published><meta name=twitter:data2 value="February 19, 2020"><meta property="article:tag" content="algorithms"><meta property="article:tag" content="cloud"><meta property="article:tag" content="automation"><meta property="article:tag" content="devops"><meta property="article:tag" content="ci/cd"><meta property="og:updated_time" content="2020-02-19T00:00:00Z"><meta name=generator content="Hugo 0.83.0"><link rel=dns-prefetch href=//fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com/ crossorigin><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel=stylesheet><link rel=stylesheet href=https://blog.brennan.sh/css/styles.min.ef433e47a104e30937dfad230e28b6dd329c9b4fe18ff4925850da1f24df3133.css integrity="sha256-70M+R6EE4wk3360jDii23TKcm0/hj/SSWFDaHyTfMTM="><link href=/index.xml rel=alternate type=application/rss+xml title=0x7CC><script src=https://cdnjs.cloudflare.com/ajax/libs/turbolinks/5.2.0/turbolinks.js></script></head><body class="bg-gradient flex flex-col min-h-screen"><header id=header class="w-full m-0 fixed z-10 transition-all duration-300 ease-in-out border-t-4 border-gray-300 backdrop-filter-blur"><div id=header-container class="max-w-7xl mx-auto p-6 flex items-center flex-wrap lg:flex-no-wrap relative justify-between"><a href=https://blog.brennan.sh/ class="tracking-tighter leading-10 text-3xl font-semibold text-gray-600 flex flex-shrink-0">0x7CC</a><div class="block lg:hidden mx-2"><button class="nav-button w-10 h-10 justify-center flex items-center opacity-75 hover:opacity-100 transition duration-300 ease-in-out"><svg class="fill-current h-4 w-4" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><title>Menu</title><path d="M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"/></svg></button>
<button class="hidden nav-button w-10 h-10 justify-center flex items-center opacity-75 hover:opacity-100 transition duration-300 ease-in-out"><svg class="fill-current h-4 w-4" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><title>Close menu</title><polygon points="11 9 22 9 22 11 11 11 11 22 9 22 9 11 -2 11 -2 9 9 9 9 -2 11 -2" transform="rotate(45 10 10)"/></svg></button></div><div class="absolute right-8 top-16 lg:relative lg:right-0 lg:top-0 flex flex-col lg:flex-row items-center rounded-md bg-white shadow lg:bg-transparent lg:shadow-none"><nav id=nav-social-links class="p-4 lg:p-0 text-gray-600 hidden lg:block lg:order-last w-full lg:w-auto lg:ml-3"><ul class="flex justify-end"><li><a class="block p-2 opacity-75 hover:opacity-100 transition duration-300 ease-in-out" title=Instagram href=https://www.instagram.com/https://instagram.com/brennanmcd rel=me><svg class="fill-current w-5 h-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22"><title>Instagram</title><path d="M7.8 2h8.4C19.4 2 22 4.6 22 7.8v8.4A5.8 5.8.0 0116.2 22H7.8C4.6 22 2 19.4 2 16.2V7.8A5.8 5.8.0 017.8 2M7.6 4A3.6 3.6.0 004 7.6v8.8C4 18.39 5.61 20 7.6 20h8.8A3.6 3.6.0 0020 16.4V7.6C20 5.61 18.39 4 16.4 4H7.6m9.65 1.5A1.25 1.25.0 0118.5 6.75 1.25 1.25.0 0117.25 8 1.25 1.25.0 0116 6.75 1.25 1.25.0 0117.25 5.5M12 7a5 5 0 015 5 5 5 0 01-5 5A5 5 0 017 12a5 5 0 015-5m0 2A3 3 0 009 12a3 3 0 003 3 3 3 0 003-3A3 3 0 0012 9z"/></svg></a></li><li><a class="block p-2 opacity-75 hover:opacity-100 transition duration-300 ease-in-out" title=Twitter href=https://www.twitter.com/https://twitter.com/bmickeydonald rel=me><svg class="fill-current w-5 h-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><title>Twitter</title><path d="M6.29 18.25c7.55.0 11.67-6.25 11.67-11.67v-.53c.8-.59 1.49-1.3 2.04-2.13-.75.33-1.54.55-2.36.65a4.12 4.12.0 001.8-2.27c-.8.48-1.68.81-2.6 1a4.1 4.1.0 00-7 3.74 11.65 11.65.0 01-8.45-4.3 4.1 4.1.0 001.27 5.49C2.01 8.2 1.37 8.03.8 7.7v.05a4.1 4.1.0 003.3 4.03 4.1 4.1.0 01-1.86.07 4.1 4.1.0 003.83 2.85A8.23 8.23.0 010 16.4a11.62 11.62.0 006.29 1.84"/></svg></a></li><li><a class="block p-2 opacity-75 hover:opacity-100 transition duration-300 ease-in-out" title=Github href=https://www.github.com/https://github.com/brennanmcdonald rel=me><svg class="fill-current w-5 h-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><title>GitHub</title><path d="M10 0A10 10 0 006.84 19.49c.5.1.68-.22.68-.48l-.01-1.7c-2.78.6-3.37-1.34-3.37-1.34-.46-1.16-1.11-1.47-1.11-1.47-.9-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.9 1.52 2.34 1.08 2.91.83.1-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.94.0-1.1.39-1.99 1.03-2.69a3.6 3.6.0 01.1-2.64s.84-.27 2.75 1.02a9.58 9.58.0 015 0c1.91-1.3 2.75-1.02 2.75-1.02.55 1.37.2 2.4.1 2.64.64.7 1.03 1.6 1.03 2.69.0 3.84-2.34 4.68-4.57 4.93.36.31.68.92.68 1.85l-.01 2.75c0 .26.18.58.69.48A10 10 0 0010 0"/></svg></a></li><li><a class="block p-2 opacity-75 hover:opacity-100 transition duration-300 ease-in-out" title=Linkedin href=https://linkedin.com/in/brennan-mcdonald rel=me><svg class="fill-current w-5 h-5" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>LinkedIn</title><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853.0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601.0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144.0-2.063-.926-2.063-2.065.0-1.138.92-2.063 2.063-2.063 1.14.0 2.064.925 2.064 2.063.0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225.0H1.771C.792.0.0.774.0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2.0 22.222.0h.003z"/></svg></a></li><li><a class="block p-2 opacity-75 hover:opacity-100 transition duration-300 ease-in-out" title=Feed href=/index.xml><svg class="fill-current w-5 h-5" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>RSS</title><path d="M19.199 24C19.199 13.467 10.533 4.8.0 4.8V0c13.165.0 24 10.835 24 24h-4.801zM3.291 17.415c1.814.0 3.293 1.479 3.293 3.295.0 1.813-1.485 3.29-3.301 3.29C1.47 24 0 22.526.0 20.71s1.475-3.294 3.291-3.295zM15.909 24h-4.665c0-6.169-5.075-11.245-11.244-11.245V8.09c8.727.0 15.909 7.184 15.909 15.91z"/></svg></a></li></ul></nav><nav id=nav-menu class="p-4 lg:p-0 hidden lg:block w-full lg:w-auto text-gray-600"><ul class="w-full flex flex-col lg:flex-row justify-end items-end lg:items-center"><li class="flex my-2 lg:my-2 mx-1 lg:mx-2"><a title="My Personal Site" class="uppercase font-bold lg:py-2 lg:px-3 rounded text-sm opacity-75 hover:opacity-100 transition duration-300 ease-in-out" href=https://brennan.sh>My Personal Site</a></li><li class="flex my-2 lg:my-2 mx-1 lg:mx-2"><a title=About class="uppercase font-bold lg:py-2 lg:px-3 rounded text-sm opacity-75 hover:opacity-100 transition duration-300 ease-in-out" href=/about/>About</a></li><li class="flex my-2 lg:my-2 mx-1 lg:mx-2"><a title=Tags class="uppercase font-bold lg:py-2 lg:px-3 rounded text-sm opacity-75 hover:opacity-100 transition duration-300 ease-in-out" href=/tags/>Tags</a></li><li class="flex my-2 lg:my-2 mx-1 lg:mx-2"><a title=Archives class="uppercase font-bold lg:py-2 lg:px-3 rounded text-sm opacity-75 hover:opacity-100 transition duration-300 ease-in-out" href=/archives/>Archives</a></li></ul></nav></div></div></header><main class="flex-1 mt-12 max-w-3xl mt-32 mx-auto text-gray-700 w-full"><div id=reading-progress-bar role=presentation class="fixed z-10 top-0 left-0 h-1 bg-gray-700"></div><article class=article><header class="text-center pt-10 pb-6"><small class="text-center text-sm"><time class=text-gray-500 datetime=2020-02-19T00:00:00+00:00>February 19, 2020</time>
<a href=https://blog.brennan.sh/tags/algorithms/ class="inline-flex items-center px-4 py-1 rounded-full no-underline bg-orange-100 text-orange-800 hover:bg-orange-300 ml-4">algorithms</a>
<a href=https://blog.brennan.sh/tags/cloud/ class="inline-flex items-center px-4 py-1 rounded-full no-underline bg-orange-100 text-orange-800 hover:bg-orange-300 ml-4">cloud</a>
<a href=https://blog.brennan.sh/tags/automation/ class="inline-flex items-center px-4 py-1 rounded-full no-underline bg-orange-100 text-orange-800 hover:bg-orange-300 ml-4">automation</a>
<a href=https://blog.brennan.sh/tags/devops/ class="inline-flex items-center px-4 py-1 rounded-full no-underline bg-orange-100 text-orange-800 hover:bg-orange-300 ml-4">devops</a>
<a href=https://blog.brennan.sh/tags/ci/cd/ class="inline-flex items-center px-4 py-1 rounded-full no-underline bg-orange-100 text-orange-800 hover:bg-orange-300 ml-4">ci/cd</a></small><h1 class="leading-9 text-center"><a href=https://blog.brennan.sh/posts/ptpmrr-whitepage/ class="no-underline inline-block text-black relative"><div class=dots aria-hidden=true></div>PtPMRR: Price to Performance Modified Round Robin.</a></h1></header><div class=article__content><h2 id=multi-cloud-distributed-task-scheduling-for-cost-and-qos-optimization>Multi-cloud distributed task scheduling for cost and QoS optimization</h2><p>Cloud computing offers the ability to provision resources as required on a per-task basis. Due to the growth of Cloud computing, there are many challenges faced today. One of these challenges is scheduling tasks to minimize cost in respect to runtime. Task scheduling is considered an NP hard problem with O(m*n) complexity when running n tasks on m resources.</p><p>In a multi-cloud scenario we still want to select the best resource to run a task on. However due to cost models that scale independently and the fact that measured performance that can vary from reported performance, this problem isn&rsquo;t as simple as it sounds. Optimally we want our algorithm to select the resource that would run at the highest performance to cost ratio.</p><h2 id=proposed-algorithm>Proposed Algorithm</h2><p>The algorithm I am proposing is a modified scheduling algorithm that has been adapted to factor in the cost of a VM and itâ€™s actual performance instead of the performance as reported by the cloud provider. The first step is to initialize a queue of all the tasks we want to run. We then start by building a cost to performance ratio for each machine that we want to run the current task on. After some variable initialization, we identify the highest performance to cost ratio. This will not specifically select the fastest or the cheapest machine, but the machine that will run the fastest for the lowest cost. We then identify the cloud provider that our selected VM is running on and attempt to schedule our task to that Virtual Machine. In the case that the scheduling fails, we attempt to reschedule.</p><pre><code>let Q = A queue of all tasks to run
let n = the # of VMs across all clouds
let ETC(i,j) = The expected runtime of Task i on VM j
let CPMS(j) = The cost per ms of runtime on VM j
let M = Total # of clouds
While Q != null
    i &lt;- dequeue(Q)
    for j = 1,2,3, ... , n
        RtC(i,j) = ETC(i,j)/CPMS(j)
    endfor
    maximum = RtC(i,1)
    index = 1
    for j = 2,3,4, ... , n
        if maximum &lt; RtC(i,j)
            maximum = RtC(i,j)
            index = j
        endif
    endfor
    for k = 1,2,3, ... , M
        if index virtual machine is delpoyed under a cloud k
            SCHEDULE(i,k,index)
            while the task is not schedulable
                RESCHEDULE(i,k,index)
            endwhile
        endif
    endfor
endwhile
</code></pre><h3 id=etc-formula>ETC Formula</h3><p><img src=/img/ptpmrr/etc_formula.png alt="alt text" title="Logo Title Text 2"></p><h2 id=implemenetation>Implemenetation</h2><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#66d9ef>while</span><span style=color:#f92672>(!</span>taskQueue<span style=color:#f92672>.</span><span style=color:#a6e22e>isEmpty</span><span style=color:#f92672>())</span> <span style=color:#f92672>{</span>
    List<span style=color:#f92672>&lt;</span>CloudProviderVM<span style=color:#f92672>&gt;</span> VMList <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> ArrayList<span style=color:#f92672>&lt;&gt;(</span>VMs<span style=color:#f92672>);</span>
    <span style=color:#66d9ef>int</span> n <span style=color:#f92672>=</span> VMList<span style=color:#f92672>.</span><span style=color:#a6e22e>size</span><span style=color:#f92672>();</span>
    <span style=color:#66d9ef>int</span> M <span style=color:#f92672>=</span> CloudProviders<span style=color:#f92672>.</span><span style=color:#a6e22e>size</span><span style=color:#f92672>();</span>
    Task t <span style=color:#f92672>=</span> taskQueue<span style=color:#f92672>.</span><span style=color:#a6e22e>remove</span><span style=color:#f92672>();</span>
    <span style=color:#66d9ef>double</span> maximum <span style=color:#f92672>=</span> calculateRtC<span style=color:#f92672>(</span>t<span style=color:#f92672>,</span> VMs<span style=color:#f92672>.</span><span style=color:#a6e22e>get</span><span style=color:#f92672>(</span>0<span style=color:#f92672>));</span>
    <span style=color:#66d9ef>int</span> index <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span>
    <span style=color:#66d9ef>for</span><span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> 1<span style=color:#f92672>;</span> j <span style=color:#f92672>&lt;=</span> n<span style=color:#f92672>;</span> j<span style=color:#f92672>++)</span> <span style=color:#f92672>{</span>
        <span style=color:#66d9ef>double</span> current <span style=color:#f92672>=</span> calculateRtC<span style=color:#f92672>(</span>t<span style=color:#f92672>,</span> VMs<span style=color:#f92672>.</span><span style=color:#a6e22e>get</span><span style=color:#f92672>(</span>j<span style=color:#f92672>));</span>
        <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>maximum <span style=color:#f92672>&lt;</span> current<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
            maximum <span style=color:#f92672>=</span> current<span style=color:#f92672>;</span>
            index <span style=color:#f92672>=</span> j<span style=color:#f92672>;</span>
        <span style=color:#f92672>}</span>
    <span style=color:#f92672>}</span>
    <span style=color:#66d9ef>boolean</span> success <span style=color:#f92672>=</span> schedule<span style=color:#f92672>(</span>VMList<span style=color:#f92672>.</span><span style=color:#a6e22e>get</span><span style=color:#f92672>(</span>index<span style=color:#f92672>),</span> t<span style=color:#f92672>);</span>
    <span style=color:#66d9ef>while</span><span style=color:#f92672>(!</span>success<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
        VMList<span style=color:#f92672>.</span><span style=color:#a6e22e>remove</span><span style=color:#f92672>(</span>VMList<span style=color:#f92672>.</span><span style=color:#a6e22e>get</span><span style=color:#f92672>(</span>index<span style=color:#f92672>));</span>
        index <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span>
        maximum <span style=color:#f92672>=</span> calculateRtC<span style=color:#f92672>(</span>t<span style=color:#f92672>,</span> VMs<span style=color:#f92672>.</span><span style=color:#a6e22e>get</span><span style=color:#f92672>(</span>0<span style=color:#f92672>));</span>
        <span style=color:#66d9ef>for</span><span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> 1<span style=color:#f92672>;</span> j <span style=color:#f92672>&lt;=</span> n<span style=color:#f92672>;</span> j<span style=color:#f92672>++)</span> <span style=color:#f92672>{</span>
            <span style=color:#66d9ef>double</span> current <span style=color:#f92672>=</span> calculateRtC<span style=color:#f92672>(</span>t<span style=color:#f92672>,</span> VMList<span style=color:#f92672>.</span><span style=color:#a6e22e>get</span><span style=color:#f92672>(</span>j<span style=color:#f92672>));</span>
            <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>maximum <span style=color:#f92672>&lt;</span> current<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
                maximum <span style=color:#f92672>=</span> current<span style=color:#f92672>;</span>
                index <span style=color:#f92672>=</span> j<span style=color:#f92672>;</span>
            <span style=color:#f92672>}</span>
        <span style=color:#f92672>}</span>
        success <span style=color:#f92672>=</span> schedule<span style=color:#f92672>(</span>VMList<span style=color:#f92672>.</span><span style=color:#a6e22e>get</span><span style=color:#f92672>(</span>index<span style=color:#f92672>),</span> t<span style=color:#f92672>);</span>
    <span style=color:#f92672>}</span>
<span style=color:#f92672>}</span>
</code></pre></div><h2 id=experimental-parameters>Experimental Parameters</h2><p>A large selection of algorithms to schedule tasks currently exist. I will be comparing my proposed algorithm to these algorithms to test its performance.</p><p>I will experiment with this algorithm first on CloudSim to get a working model and then scale it to run on the three main cloud providers, amazon, google, and microsoft.</p><p>CloudSim set up to simulate cloud federation using three instances with 200 cloudlets each.
Practical testing will use machines on their respective clouds.</p><p>Cloud 1 : (2X) Google Cloud n1-standard-1 (1 vCPU, 3.75GB RAM)<br>Cloud 2 : (2X) AWS a1.medium (1 vCPU, 2GB RAM)<br>Cloud 3 : (2X) Azure DS1 v2 (2 vCPU, 3.5GB RAM)</p><h2 id=results>Results</h2><p>By using this algorithm, costs were reduced by up to 20%</p><p><img src=/img/ptpmrr/Figure_4.png alt="alt text" title=Cost></p><p>Cpu Usage remained mostly the same</p><p><img src=/img/ptpmrr/Figure_5.png alt="alt text" title="CPU usage"></p><p>Makespan scaled with the traditional round robin and smallest job first, however due to the naive nature of first come first serve it scaled much better than the other algorithms compared to.</p><p><img src=/img/ptpmrr/Figure_6.png alt="alt text" title=Makespan></p></div><section class="my-5 pt-10 pb-5 border-t border-gray-400 flex items-center"><img alt="Avatar photo" class="border border-gray-400 p-1 w-10 h-10 rounded-full mr-3" src=/>
<span class=flex-grow></span><a href="http://twitter.com/share?url=https%3a%2f%2fblog.brennan.sh%2fposts%2fptpmrr-whitepage%2f&text=PtPMRR%3a%20Price%20to%20Performance%20Modified%20Round%20Robin.&via=https%3a%2f%2ftwitter.com%2fbmickeydonald" class="text-white text-xs font-bold rounded-md no-underline flex items-center px-3 py-2 bg-twitter hover:color-white hover:opacity-75 no-underline"><svg class="fill-current w-4 h-4 mr-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><title>Twitter</title><path d="M6.29 18.25c7.55.0 11.67-6.25 11.67-11.67v-.53c.8-.59 1.49-1.3 2.04-2.13-.75.33-1.54.55-2.36.65a4.12 4.12.0 001.8-2.27c-.8.48-1.68.81-2.6 1a4.1 4.1.0 00-7 3.74 11.65 11.65.0 01-8.45-4.3 4.1 4.1.0 001.27 5.49C2.01 8.2 1.37 8.03.8 7.7v.05a4.1 4.1.0 003.3 4.03 4.1 4.1.0 01-1.86.07 4.1 4.1.0 003.83 2.85A8.23 8.23.0 010 16.4a11.62 11.62.0 006.29 1.84"/></svg>Tweet</a></section><section class="my-5 py-5 relative"><h2>Interactions</h2></section></article><aside class=flex><a class="w-full md:w-1/2 flex flex-col items-center py-7 px-3 no-underline rounded-md hover:bg-white transition duration-300 ease-in-out" href=/posts/short-blog-posts/><span class="border border-gray-6 text-xs rounded-md mb-2 uppercase font-bold py-2 px-3">Read this next</span>
<span class=text-center>Your blog post can be short.</span></a>
<a class="w-full md:w-1/2 flex flex-col items-center py-7 px-3 no-underline rounded-md hover:bg-white transition duration-300 ease-in-out" href=/posts/japan-part-two/><span class="border border-gray-6 text-xs rounded-md mb-2 uppercase font-bold py-2 px-3">You might enjoy</span>
<span class=text-center>New Years 2019 in Japan: Part Two.</span></a></aside></main><footer class="w-full max-w-7xl mx-auto text-center border-t border-gray-200 py-9 px-3 mt-9 pin-b text-sm text-gray-500">Made with <a href=https://gohugo.io class="underline transition duration-300 ease-in-out hover:text-blue-600">Hugo</a> and <a href=https://github.com/leonardofaria/bento class="underline transition duration-300 ease-in-out hover:text-blue-600">Bento theme</a>.</footer><script>var initMenu=()=>{var a=document.querySelectorAll('.nav-button'),c=document.querySelector('#nav-menu'),b=document.querySelector('#nav-social-links'),d;for(d of a)d.addEventListener('click',()=>{console.log('click'),c.classList.toggle("hidden"),b&&b.classList.toggle("hidden");for(var d of a)d.classList.toggle("hidden")})};document.addEventListener('turbolinks:load',initMenu())</script><script>var initHeader=()=>{var a,i,f,g,e;let d=window.scrollY;a=document.querySelector('#header'),i=document.querySelector("#header-container"),f=document.querySelector("#reading-progress-bar");let b=0,c=0,h=0;g=()=>{a.classList.add("shadow"),a.classList.add("bg-white-90")},e=()=>{a.classList.remove("shadow"),a.classList.remove("bg-white-90")},window.onscroll=function(){d=window.scrollY,b=document.documentElement.scrollTop||document.body.scrollTop,c=(document.documentElement.scrollHeight||document.body.scrollHeight)-document.documentElement.clientHeight,h=b/c*100,f.style.width=b/c*100+'%',d>0?g():e()}};document.addEventListener('turbolinks:load',initHeader())</script></body></html>